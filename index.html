<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Project Entity</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;700&display=swap');
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #050507;
      color: #e2e8f0;
      overflow: hidden;
    }
    .font-orbitron {
      font-family: 'Orbitron', sans-serif;
    }
    
    /* Grunge Card Bases */
    .card-entity { background: linear-gradient(145deg, #2a220a 0%, #1a1505 100%); border: 3px solid #d97706; }
    .card-action { background: linear-gradient(145deg, #0a2a1b 0%, #051a10 100%); border: 3px solid #059669; }
    .card-condition { background: linear-gradient(145deg, #2a0a1b 0%, #1a0510 100%); border: 3px solid #db2777; }
    
    .card-inner-border {
      border: 1px solid rgba(255,255,255,0.1);
      position: absolute;
      inset: 4px;
      pointer-events: none;
    }

    .card-title-box {
      background: rgba(0,0,0,0.8);
      border: 1px solid rgba(255,255,255,0.3);
      box-shadow: inset 0 0 10px rgba(255,255,255,0.1);
    }

    .glow-gold { box-shadow: 0 0 20px rgba(251, 191, 36, 0.4), inset 0 0 10px rgba(251, 191, 36, 0.2); }
    .glow-green { box-shadow: 0 0 20px rgba(52, 211, 153, 0.4), inset 0 0 10px rgba(52, 211, 153, 0.2); }
    .glow-pink { box-shadow: 0 0 20px rgba(244, 114, 182, 0.4), inset 0 0 10px rgba(244, 114, 182, 0.2); }
    
    /* Yellow pulsing glow for playable cards */
    @keyframes glow-pulse-yellow {
      0% { box-shadow: 0 0 5px #fbbf24; border-color: #fbbf24; }
      50% { box-shadow: 0 0 20px #fbbf24, inset 0 0 10px rgba(251,191,36,0.3); border-color: #fff; }
      100% { box-shadow: 0 0 5px #fbbf24; border-color: #fbbf24; }
    }
    .glow-activatable {
      animation: glow-pulse-yellow 2s infinite ease-in-out;
      border-width: 3px !important;
      z-index: 15;
    }

    .retro-hash {
      background-color: #050507;
      background-image: 
        repeating-linear-gradient(90deg, transparent, transparent 40px, rgba(255,255,255,.015) 40px, rgba(255,255,255,.015) 80px),
        repeating-linear-gradient(45deg, transparent, transparent 2px, rgba(0,0,0,0.1) 2px, rgba(0,0,0,0.1) 4px);
      background-size: 200% 100%, 100% 100%;
      animation: move-hash-horiz 10s linear infinite;
    }
    
    .retro-hash-light {
      background-color: #e2e8f0;
      background-image: 
        repeating-linear-gradient(90deg, transparent, transparent 40px, rgba(0,0,0,.03) 40px, rgba(0,0,0,.03) 80px),
        repeating-linear-gradient(45deg, transparent, transparent 2px, rgba(0,0,0,0.05) 2px, rgba(0,0,0,0.05) 4px);
      background-size: 200% 100%, 100% 100%;
      animation: move-hash-horiz-rev 10s linear infinite;
    }
    
    @keyframes move-hash-horiz {
      from { background-position: 0 0; }
      to { background-position: 200px 0; }
    }

    @keyframes move-hash-horiz-rev {
      from { background-position: 200px 0; }
      to { background-position: 0 0; }
    }

    /* Swift sliding-to-the-left phase transition */
    .phase-slide {
      animation: phase-slide-left 0.7s cubic-bezier(0.65, 0, 0.35, 1) forwards;
    }

    @keyframes phase-slide-left {
      0% { transform: translateX(100%); opacity: 0; }
      20% { opacity: 1; }
      40% { transform: translateX(0%); }
      60% { transform: translateX(0%); }
      80% { opacity: 1; }
      100% { transform: translateX(-100%); opacity: 0; }
    }
    
    @keyframes turn-slide-in {
      0% { transform: scale(0.8); opacity: 0; letter-spacing: 1em; }
      20% { opacity: 1; transform: scale(1); letter-spacing: 0.2em; }
      80% { opacity: 1; transform: scale(1); letter-spacing: 0.2em; }
      100% { opacity: 0; transform: scale(1.2); letter-spacing: 0em; }
    }

    .turn-slide {
      animation: turn-slide-in 1.5s cubic-bezier(0.22, 1, 0.36, 1) forwards;
    }

    .zone-drop-target {
      animation: pulse-border 1.5s infinite;
      border-color: rgba(251, 191, 36, 0.8) !important;
      background: rgba(251, 191, 36, 0.1) !important;
    }

    @keyframes pulse-border {
      0%, 100% { transform: scale(1); border-width: 2px; }
      50% { transform: scale(1.05); border-width: 4px; }
    }

    .card-back {
      background: #0f0f0f;
      border: 3px solid #d4af37; /* Gold Border */
      background-image: 
        linear-gradient(45deg, #1a1a1a 25%, transparent 25%, transparent 75%, #1a1a1a 75%, #1a1a1a),
        linear-gradient(45deg, #1a1a1a 25%, transparent 25%, transparent 75%, #1a1a1a 75%, #1a1a1a);
      background-size: 20px 20px;
      background-position: 0 0, 10px 10px;
      box-shadow: inset 0 0 15px rgba(212, 175, 55, 0.2), 0 4px 6px rgba(0,0,0,0.8);
      position: relative;
    }

    .card-back::after {
      content: '';
      position: absolute;
      inset: 4px;
      border: 1px solid rgba(212, 175, 55, 0.5);
      pointer-events: none;
    }
    
    .card-back::before {
      content: '';
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 40px; height: 40px;
      border: 2px solid #d4af37;
      transform: translate(-50%, -50%) rotate(45deg);
      background: #000;
      box-shadow: 0 0 10px #d4af37;
    }

    .animate-spin-slow {
      animation: spin 8s linear infinite;
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    /* Disintegrate / Fly Animation */
    @keyframes fly-disintegrate {
      0% { opacity: 1; transform: translate(0, 0) scale(1) rotate(0deg); filter: brightness(1); }
      50% { opacity: 0.8; transform: translate(calc(var(--tx) * 0.5), calc(var(--ty) * 0.5)) scale(0.8) rotate(180deg); filter: brightness(1.5); }
      100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(0) rotate(360deg); filter: brightness(2) blur(4px); }
    }
    
    .flying-card {
      animation: fly-disintegrate 0.8s ease-in forwards;
    }
    
    /* LP Pop */
    @keyframes lp-pop {
      0% { transform: scale(1); }
      50% { transform: scale(1.5); text-shadow: 0 0 20px currentColor; }
      100% { transform: scale(1); }
    }
    
    .lp-active {
      animation: lp-pop 0.5s ease-out forwards;
    }

    /* Void Vortex */
    @keyframes vortex-spin {
      0% { transform: rotate(0deg) scale(0); opacity: 0; }
      20% { transform: rotate(180deg) scale(1.2); opacity: 1; }
      80% { transform: rotate(720deg) scale(0.8); opacity: 1; }
      100% { transform: rotate(1080deg) scale(0); opacity: 0; }
    }

    .vortex {
      position: absolute;
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: radial-gradient(circle, #000 20%, #7c3aed 80%, transparent 100%);
      box-shadow: 0 0 30px #7c3aed, inset 0 0 20px #4c1d95;
      animation: vortex-spin 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
      pointer-events: none;
      z-index: 150;
    }
    
    .vortex::before {
        content: '';
        position: absolute;
        inset: -10px;
        border: 2px dashed #a78bfa;
        border-radius: 50%;
        animation: spin 3s linear infinite;
    }

    /* Floating Damage Text */
    @keyframes float-damage {
      0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
      15% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
      100% { opacity: 0; transform: translate(-50%, -200%) scale(1); }
    }
    
    .floating-text {
      position: absolute;
      font-weight: 900;
      font-family: 'Orbitron', sans-serif;
      pointer-events: none;
      z-index: 200;
      animation: float-damage 2.5s ease-out forwards;
      text-shadow: 0 0 10px rgba(0,0,0,0.8);
      white-space: nowrap;
    }

    /* Pile Glow Flashes */
    @keyframes glow-flash-gold {
      0% { box-shadow: 0 0 0px transparent; border-color: rgba(255,255,255,0.1); }
      50% { box-shadow: 0 0 60px #d97706; border-color: #fbbf24; background-color: rgba(217, 119, 6, 0.2); }
      100% { box-shadow: 0 0 0px transparent; border-color: rgba(255,255,255,0.1); }
    }
    @keyframes glow-flash-purple {
      0% { box-shadow: 0 0 0px transparent; border-color: rgba(255,255,255,0.1); }
      50% { box-shadow: 0 0 60px #7c3aed; border-color: #a78bfa; background-color: rgba(124, 58, 237, 0.2); }
      100% { box-shadow: 0 0 0px transparent; border-color: rgba(255,255,255,0.1); }
    }
    .flash-gold { animation: glow-flash-gold 0.8s ease-out forwards; }
    .flash-purple { animation: glow-flash-purple 0.8s ease-out forwards; }

    /* --- NEW ANIMATIONS --- */

    /* Stat Pop (Growth) */
    @keyframes stat-pop-scale {
      0% { transform: scale(1); color: #fbbf24; }
      40% { transform: scale(2.8); color: #fff; text-shadow: 0 0 15px #fff; }
      100% { transform: scale(1); color: #fbbf24; }
    }
    
    .stat-changed {
      animation: stat-pop-scale 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    /* White Glass Shatter */
    .shatter-container {
      position: absolute;
      pointer-events: none;
      z-index: 250;
      width: 0;
      height: 0;
    }

    .shard {
      position: absolute;
      top: 0; left: 0;
      background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.6));
      backdrop-filter: blur(4px);
      width: 30px; 
      height: 30px;
      clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
      opacity: 0;
      transform-origin: center;
      animation: shatter-fly 0.7s ease-out forwards;
      box-shadow: 0 0 10px rgba(255,255,255,0.5);
    }

    @keyframes shatter-fly {
      0% { transform: translate(-50%, -50%) scale(0.2) rotate(0deg); opacity: 1; }
      10% { transform: translate(-50%, -50%) scale(1) rotate(0deg); opacity: 1; }
      100% { transform: translate(var(--tx), var(--ty)) scale(0) rotate(var(--rot)); opacity: 0; }
    }

  </style>
<script type="importmap">
{
  "imports": {
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
    "react/": "https://esm.sh/react@^19.2.4/",
    "react": "https://esm.sh/react@^19.2.4"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body>
  <div id="root"></div>
<script type="module" src="/index.tsx"></script>
</body>
</html>